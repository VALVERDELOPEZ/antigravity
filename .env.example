# ============================================================
# LEAD FINDER AI - CONFIGURACIÓN DE ENTORNO (.env)
# ============================================================
# Copia este archivo como .env o .env.local para usarlo en local
# ============================================================

# --- FLASK CONFIG ---
FLASK_APP=app.py
FLASK_ENV=development
# Genera una clave segura: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=clave-secreta-muy-larga-y-segura-12345

# --- BASE DE DATOS ---
# Desarrollo local (SQLite):
# DATABASE_URL=sqlite:///leadfinder.db

# Producción con Supabase (PostgreSQL):
# Formato: postgresql+psycopg2://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql+psycopg2://postgres.xxxxx:TU_PASSWORD@aws-0-us-east-1.pooler.supabase.com:6543/postgres

# --- OPENAI (REQUERIDO para Leads e IA) ---
# Obtener en: https://platform.openai.com/api-keys
# Formato: sk-proj-...
OPENAI_API_KEY=sk-proj-tu-clave-aqui

# --- STRIPE (MODO TEST) ---
# Obtener en: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
# Obtener en: https://dashboard.stripe.com/test/webhooks (Signing Secret)
STRIPE_WEBHOOK_SECRET=whsec_...

# --- STRIPE PRODUCTOS (PRICE IDs) ---
# Crea productos en Stripe > Products. Copia el "API ID" (price_...)
# Starter: 49€/mes
STRIPE_PRICE_STARTER=price_...
# Pro: 99€/mes
STRIPE_PRICE_PRO=price_...

# --- GMAIL SMTP (ENVÍO DE EMAILS) ---
# 1. Activa 2FA en tu cuenta de Google.
# 2. Crea una "App Password" en Mysettings > Security.
# 3. SMTP_SERVER para Gmail es: smtp.gmail.com
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=tu-email@gmail.com
# La contraseña de aplicación de 16 caracteres de Google
SMTP_PASSWORD=abcd-efgh-ijkl-mnop
EMAIL_FROM_NAME=Lead Finder AI
EMAIL_FROM_ADDRESS=tu-email@gmail.com

# --- REDDIT API (OPCIONAL - NO REQUERIDO PARA MVP) ---
# El scraper usa JSON endpoints que no requieren autenticación
# Solo configura si quieres usar la API oficial (PRAW) en el futuro
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
REDDIT_USER_AGENT=LeadFinderAI/1.0

# --- CONFIGURACIÓN DE APP ---
# URL base de tu aplicación (importante para webhooks y links)
APP_URL=http://localhost:5000

# --- CONFIGURACIÓN DEL SCHEDULER ---
# Intervalo en minutos (para MVP - actualizaciones frecuentes)
SCRAPE_INTERVAL_MINUTES=30

# Intervalo en horas (para producción - menos agresivo)
SCRAPE_INTERVAL_HOURS=8

# --- CONFIGURACIÓN DE SCRAPING ---
# Engagement mínimo para guardar un lead (upvotes + comentarios)
MIN_ENGAGEMENT_SCORE=2

# Máximo de requests HTTP por ciclo (rate limiting)
MAX_REQUESTS_PER_CYCLE=20

